{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6b7beaa361a23128a439","webpack:///./src/Branch.js","webpack:///external \"babel-polyfill\"","webpack:///./src/index.js","webpack:///./src/convertToBranches.js","webpack:///external \"bluebird\""],"names":["Branch","name","condition","action","value","branches","TypeError","newCondition","newAction","branch","push","find","getName","searchName","getBranch","Object","keys","reduce","foundBranch","branchName","findBranch","actionResult","result","resolve","execute","then","childBranchResult","convertToBranches","convertToBranch","map"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6b7beaa361a23128a439","import { convertToBranches, convertToBranch } from \"./convertToBranches\";\nimport Promise from \"bluebird\";\nexport default class Branch {\n    constructor({ name, condition = () => true, action = value => value, branches = [] } = {}) {\n        if (!name) {\n            throw TypeError(\"Name should be provided\");\n        }\n        this.name = name;\n        this.condition = condition;\n        this.action = action;\n        this.branches = convertToBranches(branches);\n    }\n    changeCondition(newCondition) {\n        this.condition = newCondition;\n        return this;\n    }\n    setAction(newAction) {\n        this.action = newAction;\n        return this;\n    }\n    addBranch(branch) {\n        this.branches.push(convertToBranch(branch));\n        return this;\n    }\n    getBranch(name) {\n        return this.branches.find(branch => branch.getName() === name) || null;\n    }\n    findBranch(searchName) {\n        return (\n            this.getBranch(searchName) ||\n            Object.keys(this.branches).reduce(\n                (foundBranch, branchName) => foundBranch || this.branches[branchName].findBranch(searchName),\n                null\n            )\n        );\n    }\n    getAction() {\n        return this.action;\n    }\n    getName() {\n        return this.name;\n    }\n    execute(value) {\n        if (this.condition(value)) {\n            const actionResult = this.action(value);\n            return Promise.reduce(\n                this.branches,\n                (result, branch) => (result !== null ? Promise.resolve(result) : branch.execute(actionResult)),\n                null\n            ).then(childBranchResult => childBranchResult || actionResult);\n        }\n        return Promise.resolve(null);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Branch.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 2\n// module chunks = 0","import Branch from \"./Branch\";\nexport default {\n    Branch\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Branch from \"./Branch\";\nexport function convertToBranches(branches) {\n    return branches.map(convertToBranch);\n}\nexport function convertToBranch(branch) {\n    if (branch instanceof Branch) {\n        return branch;\n    } else {\n        return new Branch(branch);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/convertToBranches.js","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}